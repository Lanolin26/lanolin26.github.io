---
layout: post
title: "Арифметические выражения, префиксная, инфиксная и постфиксная запись выражений"
categories: pirsai-questions
---

Арифметическим выражением называется выражение, составленное из операндов целого или вещественного
типа и использующее только арифметические операции.

К арифметическим операциям относятся: сложение($+$), вычитание($-$), умножение($*$), деление($/$),
деление нацело ($\div$), вычисление остатка от деления ($mod$).

Когда вы записываете арифметическое выражение вроде $B*C$, то его форма предоставляет вам достаточно
информации для корректной интерпретации. В данном случае мы знаем, что переменная $B$ умножается на
переменную $C$, поскольку оператор умножения $*$ находится в выражении между ними. Такой тип записи
называется инфиксной, поскольку оператор расположен между (in between) двух операндов, с которыми он
работает.

Существует ещё два очень важных формата выражений, которые на первый взгляд могут показаться вам
неочевидными. Рассмотрим инфиксную запись $A+B$. Что произойдёт, если мы поместим оператор перед
двумя операндами? Результирующее выражение будет $+ A B$. Также мы можем переместить оператор в
конец, получив $A B +$. Всё это выглядит несколько странным.

Эти изменения позиции оператора по отношению к операндам создают два новых формата - префиксный и
постфиксный. Префиксная запись выражения требует, чтобы все операторы предшествовали двум операндам,
с которыми они работают. Постфиксная, в свою очередь, требует, чтобы операторы шли после соответствующих
операндов.

$A+B*C$ в префиксной нотации можно переписать как $+ A * B C$. Оператор умножения ставится непосредственно
перед операндами $B$ и $C$, указывая на приоритет $*$ над $+$. Затем следует оператор сложения перед $A$
и результатом умножения.

В постфиксной записи выражение выглядит как $A B C * +$. Порядок операций вновь сохраняется, поскольку $*$
находится непосредственно после $B$ и $C$, обозначая, что он имеет приоритет выше следующего $+$. Хотя
операторы перемещаются и теперь находятся до или после соответствующих операндов, порядок последних по
отношению друг к другу остаётся в точности таким, как был.

| Инфиксная запись    | Префиксная запись | Постфиксная запись |
|---------------------|-------------------|--------------------|
| $A + B$             | $+ A B$           | $A B +$            |
| $A + B * C$         | $+ A * B C$       | $A B C * +$        |
| $(A + B) * C$       | $* + A B C$       | $A B + C *$        |
| $A + B * C + D$     | $+ + A * B C D$   | $A B C * + D +$    |
| $(A + B) * (C + D)$ | $* + A B + C D$   | $A B + C D + *$    |
| $A *B + C* D $      | $+ * A B * C D$   | $A B * C D * +$    |
| $A + B + C + D$     | $+ + + A B C D$   | $A B + C + D +С$   |

А сейчас рассмотрим инфиксное выражение $(A + B) * C$. Напомним, что в этом случае запись требует
наличия скобок для указания выполнить сложение перед умножением. Однако, когда $A + B$ записывается
в префиксной форме, то оператор сложения просто помещается перед операндами: $+ A B$. Результат этой
операции является первым операндом для умножения. Оператор умножения перемещается в начало всего
выражения, давая нам $* + A B C$. Аналогично, в постфиксной записи $A B +$ явно указывается, что
первым происходит сложение. Умножение может быть выполнено для получившегося результата и оставшегося
операнда $C$. Соответствующим постфиксным выражением будет $A B + C *$.

Куда ушли скобки? Почему они не нужны нам в префиксной и постфиксной записи? Ответ в том, что
операторы больше не являются неоднозначными по отношению к своим операндам. Только инфиксная запись
требует дополнительных символов. Порядок операций внутри префиксного и постфиксного выражений полностью
определён позицией операторов и ничем иным. Во многом именно это делает инфиксную запись наименее
желательной нотацией для использования.
