---
layout: post
title: "Основные принципы объектно-ориентированного программирования"
categories: sppo-questions pors-questions
---

## ООП

Объектно-ориентированное программирование – это парадигма программирования, в которой основной концепцией
является понятие объекта, который отождествляется с предметной областью.

Таким образом, система представляется в виде набора объектов предметной области, которые взаимодействуют между
собой некоторым образом. Каждый объект обладает тремя составляющими: идентичность (identity), состояние (state)
и поведение (behavior).

- Состояние объекта — это набор всех его полей и их значений.
- Поведение объекта — это набор всех методов класса объекта.
- Идентичность объекта — это то, что отличает один объект класса от другого объекта класса. С точки зрения Java,
  именно по идентичности определяется метод equals.

## Принципы объектно-ориентированного программирования

Объектно-ориентированное программирование обладает рядом принципов. Представление об их количестве расходится.
Кто-то утверждает, что их три (старая школа программистов), кто-то, что их четыре (новая школа программистов):

- Абстракция
- Инкапсуляция
- Наследование
- Полиморфизм

### Инкапсуляция

Инкапсуляция – это принцип, согласно которому любой класс и в более широком смысле – любая часть системы должны
рассматриваться как «черный ящик»: пользователь класса или подсистемы должен видеть только интерфейс (т.е. список
декларируемых свойств и методов) и не вникать во внутреннюю реализацию.

Таким образом, получается, что если класс A обращается к полям класса B напрямую, это приводит к тому, что класс
A завязывается на внутренне устройство класса B, и попытка изменить внутреннее устройство класса B приведет к
изменению класса А. Более того, класс A не просто так работает с полями класса B, он работает по некоторой
бизнес-логике. То есть логика по работе с состоянием класса В лежит в классе А, и когда мы захотим переиспользовать
класс В, это не удастся сделать, ведь без кусочка класса А класс В может быть бесполезным, что приведет к тому, что
класс В придется отдавать вместе с классом А.

### Абстракция

Относительно недавно в качестве самостоятельного четвёртого принципа начали выделять абстракцию.

Одно из определений слова «абстракция», которые можно встретить в современных словарях:

> Абстракция (от лат. abstractio — выделение, отвлечение или отделение) — теоретический прием исследования,
> позволяющий отвлечься от некоторых несущественных в определенном отношении свойств изучаемых явлений и выделить
> свойства существенные и определяющие.

Все языки программирования предоставляют их пользователю определённые абстракции. Так, языки семейства
ассемблер являются в своём роде абстракцией соответствующих микропроцессоров, поскольку позволяют отвлечься
от деталей их реализации и общаться с ними через определённый набор более высокоуровневых инструкций.
Императивные языки программирования, последовавшие за ассемблером, например Basic, Fortran, C, являются более
высоким уровнем абстракции над ассемблерными языками – они дают возможность использовать более привычные человеку
синтаксические конструкции за счёт приближения синтаксиса к естественным языкам.

Представьте, что вы попросили нескольких человек описать в общих чертах, что такое телефон и как им пользоваться:
пусть это будут бабушка, мама и подруга. Бабушка вспомнит про дисковые телефоны и трубки с витым проводом. Мама
расскажет про радиотелефоны, у которых есть база и есть трубка, с которой можно ходить по всей квартире, а подруга
начнёт описывать мобильник.

Несмотря на то что рассказы будут сильно отличаться между собой, у них будет несколько общих моментов про телефон:

- у телефона есть трубка;
- в трубку мы говорим, из трубки — слушаем;
- можно набрать номер нужного человека и позвонить ему;
- если вам позвонят по телефону, вы это услышите и примете звонок.

Получается, что если представить абстрактный телефон, то получится такое устройство с динамиком, микрофоном и
средством набора номера.

Это и есть абстракция: когда мы описываем только самые существенные детали, которые важны для задачи. В нашем
случае задача такая — понять, что такое телефон и как им пользоваться. Поэтому микрофон и динамик для этой задачи
важен, а способ связи телефона с сетью — нет. Устройство набора номера важно, а то, какая мелодия играет при
вызове — нет.

Абстракция — это когда мы сосредотачиваемся только на существенных для задачи деталях и игнорируем всё остальное.
В ООП абстракция означает, что для каждого объекта мы задаём минимальное количество методов, полей и описаний,
которые позволят нам решить задачу. Чем меньше характеристик, тем лучше абстракция, но ключевые характеристики
убирать нельзя.

### Наследование

Наследование — это возможность порождать один класс от другого с сохранением всех свойств и методов класса-предка
(суперкласса), добавляя при необходимости новые свойства и методы.

Наследование является одним из важнейших принципов объектно-ориентированного программирования, поскольку оно
позволяет создавать иерархические структуры объектов. Используя наследование, можно создать общий класс, который
будет определять характеристики и поведение, свойственные какому-то набору связанных объектов. В дальнейшем этот
класс может быть унаследован другими, более частными классами, каждый из которых будет добавлять уникальные,
свойственные только ему характеристики и дополнять или изменять поведение базового класса. В терминах Java такой
общий класс называется суперклассом (superclass), или базовым классом (base class), или классом-родителем (parent
class), а класс, его наследующий, - подклассом (subclass), или дочерним классом (child class), или классом-потомком
(derived class).

Наследование реализует отношение «является» (“is-a”) между суперклассом и подклассом. Пусть, например, классы
Employee и Manager представляют собой абстракцию понятий «Сотрудник» и «Менеджер». Каждый менеджер также является
сотрудником компании, в которой он работает, следовательно, класс Manager находится в отношении “is-a” с классом
Employee. Таким образом, с точки зрения наследования, при выстраивании иерархии классов класс Employee будет являться
суперклассом, а класс Manager – дочерним классом. При этом класс, который является наследником какого-либо класса,
может быть суперклассом для одного или нескольких других классов.

### Полиморфизм

Полиморфизм - это свойство родственных объектов (т.е. объектов, имеющих одного общего родителя) решать схожие по
смыслу проблемы разными способами. В рамках ООП поведенческие свойства объекта определяются набором входящих в него
методов. Изменяя алгоритм того или иного метода в потомках объекта, программист может придавать этим потомкам
отсутствующие у родителя специфические свойства. Для изменения метода необходимо перекрыть его в потомке, т.е.
объявить в потомке одноименный метод и реализовать в нем нужные действия. В результате в объекте-родителе и
объекте-потомке будут действовать два одноименных метода, имеющие разную алгоритмическую основу и, следовательно,
придающие объектам разные свойства. Это и называется полиморфизмом объектов.

При рассмотрении полиморфизма необходимо помнить, что этот принцип неразрывно связан с другим принципом ООП –
наследованием, которое помогает реализовать полиморфизм.

Возьмем для примера абстрактный класс «Автомобиль», который наследуют два конкретных класса – «Спортивный автомобиль»
и «Грузовой автомобиль».

И спортивные, и грузовые автомобили будут обладать общими характеристиками и будут иметь возможность выполнять общие
для всех автомобилей действия, которые указаны в абстрактном классе-родителе, но конкретная реализация этих действий
может быть разной.

Например, общее для всех автомобилей действие «завестись» у спортивного автомобиля может быть реализовано путем
нажатия кнопки, а у грузового - с помощью ключа. Один результат – разные решения. В этом и состоит полиморфизм.

Более строго, полиморфизм - один из принципов ООП, позволяющий вызовом переопределённого метода через переменную
класса-родителя получить поведение, которое будет соответствовать реальному классу-потомку, на который ссылается
эта переменная.
