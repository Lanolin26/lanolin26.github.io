---
layout: post
title: Архитектурные принципы фон-неймановских ЭВМ. Основные виды ЭВМ с архитектурой, отличающейся от фон-неймановской
categories: sppo-questions pors-questions
---

В 1946 году Д. фон Нейман, Г. Голдстайн и А. Беркс в своей совместной статье изложили новые принципы
построения и функционирования ЭВМ. В последствие на основе этих принципов производились первые два
поколения компьютеров. В более поздних поколениях происходили некоторые изменения, хотя принципы Неймана
актуальны и сегодня.

По сути, Нейману удалось обобщить научные разработки и открытия многих других ученых и сформулировать
на их основе принципиально новое.

## Принципы фон Неймана

1. Принцип двоичности.
   Для представления данных и команд используется двоичная система счисления.
2. Принцип программного управления.
   Программа состоит из набора команд, которые выполняются процессором друг за другом в определённой
   последовательности.
3. Принцип однородности памяти.
   Как программы (команды), так и данные хранятся в одной и той же памяти. Над командами можно выполнять
   такие же действия, как и над данными.
4. Принцип адресуемости памяти.
   Структурно основная память состоит из пронумерованных ячеек; процессору в произвольный момент времени
   доступна любая ячейка.
5. Принцип последовательного программного управления.
   Все команды располагаются в памяти и выполняются последовательно, одна после завершения другой.
6. Принцип условного перехода.
   Команды из программы не всегда выполняются одна за другой. Возможно присутствие в программе команд
   условного перехода, которые изменяют последовательность выполнения команд в зависимости от значений данных.

Самым главным следствием этих принципов можно назвать то, что теперь программа уже не была постоянной частью
машины (как например, у калькулятора). Программу стало возможно легко изменить. А вот аппаратура, конечно же,
остается неизменной, и очень простой.

## Не фоннеймановкие виды ЭВМ

**Не-фон-неймановская архитектура** - любой способ организации ЭВМ, принципиально отличающийся от классической
фон-неймановской архитектуры.

Предлагаемые варианты не-фон-неймановской архитектуры включают: организацию ЭВМ либо без счетчика команд и с
непоследовательным выполнением команд, либо без памяти с многократной записью (например, dataflow machine,
reduction machine).

**Машина, управляемая потоком данных (dataflow machine)**. Организация ЭВМ, при которой выполнение каждой операции
инициируется наличием её операндов; заранее последовательность выполнения команд не задается. При управлении потоком
данных в качестве операндов команды указываются не адреса ячеек памяти, а команды, результаты которых являются
операндами данной команды.

**Редукционная машина (reduction machine)**. Организация ЭВМ, при которой программа представляет собой набор правил
подстановки и выражение, подвыражения которого заменяются (редуцируются) в соответствии с правилами. Правила и
подвыражения могут обрабатываться с произвольной степенью параллелизма.

**SIMD-architecture** - архитектура (параллельной) ЭВМ с одним потоком команд и несколькими потоками данных
(например, array processor).

**Векторный процессор, матричный процессор (array processor)**. ЭВМ или спецпроцессор, обеспечивающие параллельное
выполнение операций над массивами чисел: векторами или матрицами. Обычно состоит из набора арифметических процессоров,
выполняющих одинаковые операции над различными элементами массива, с общим устройством управления.

**MIMD-architecture** - архитектура (параллельной) ЭВМ с несколькими потоками команд и несколькими потоками данных.
Организация вычислительной системы с несколькими однородными или разнородными процессорами, каждый из которых
выполняет свои команды над своими данными.

**Машина соединений** – ее конфигурация внутренних связей динамически перестраивается согласно программе. На
одноразрядных микропроцессорах уже в 1983 г. была создана ЭВМ, где согласованно работали 65000 процессорных
элементов, а позже уже проектировалась система на 1 млн. элементов.

На **транспьютерах** (микропроцессор с собственной внутренней памятью и со встроенными коммуникационными каналами)
и других приборах подобного класса в чрезвычайно сжатые сроки были созданы системы, в которых соответственно задачам
микропроцессоры объединялись самыми различными способами: «вычислительная поверхность», «гиперкуб», «обобщенный
гиперкуб», «дерево», «кольцо» и т. д.

Архитектура транспьютеров. Транспьютеры относятся к классу RISC- процессоров, система команд которых ориентирована
на поддержку языка высокого уровня, позволяющего выполнять параллельные вычисления в соответствии с моделью
взаимодействующих последовательных процессов. Под процессом понимается ход исполнения программного кода некоторой
программы или фрагмента программы. Взаимодействие между процессами реализуется по принципу асинхронного обмена
данными с квитированием. Параллельные вычисления поддерживаются с помощью аппаратно реализованного диспетчера.
Мультипроцессорная система представляет собой совокупность транспьютеров, соединенных непосредственно линиями
связи или с использованием коммутаторов. Упрощение программирования системы на базе транспьютеров достигается
благодаря тому, что поддерживается одинаковая модель параллельных вычислений как внутри отдельного транспьютера,
так и в рамках системы в целом. Поэтому программа, разрабатываемая для мультипроцессорной системы, может быть
создана и отлажена на одном-единственном процессоре, после чего перенесена на сеть транспьютеров без существенных
изменений.


**Гарвардская архитектура** — архитектура ЭВМ, отличительными признаками которой являются:

- хранилище инструкций и хранилище данных представляют собой разные физические устройства;
- канал инструкций и канал данных также физически разделены.

Недостатки Гарвардской архитектуры связаны с необходимостью проведения большего числа шин, а также с фиксированным
объемом памяти, выделенной для команд и данных, назначение которой не может оперативно перераспределяться в соответствии
с требованиями решаемой задачи.

**Модифицированная гарвардская архитектура**
Соответствующая схема реализации доступа к памяти имеет один очевидный недостаток — высокую стоимость. При разделении
каналов передачи команд и данных на кристалле процессора последний должен иметь почти вдвое больше интерфейсных выводов,
так как шина адреса и шина данных составляют основную часть выводов микропроцессора. Способом разрешения этой проблемы
стала идея использовать общие шину данных и шину адреса для всех внешних данных, а внутри процессора использовать шину
данных, шину команд и две шины адреса. Такую концепцию стали называть модифицированной гарвардской архитектурой.

Такая схемотехника применяется в современных сигнальных процессорах. Ещё дальше по пути уменьшения стоимости пошли при
создании однокристальных микроЭВМ — микроконтроллеров. В них одна шина команд и данных применяется и внутри кристалла.

Разделение шин в модифицированной гарвардской структуре осуществляется при помощи раздельных управляющих сигналов: чтения,
записи или выбора области памяти.

**Расширенная гарвардская архитектура**
Часто требуется выбрать три составляющие: два операнда и инструкцию (в алгоритмах цифровой обработки сигналов это наиболее
распространенная задача в БПФ-, КИХ- и БИХ-фильтрах). Для этого существует кэш-память. В ней может храниться инструкция —
следовательно, обе шины остаются свободными и появляется возможность передать два операнда одновременно. Использование
кэш-памяти вместе с разделёнными шинами получило название «Super Harvard Architecture» («SHARC») — расширенная гарвардская
архитектура.

Примером могут служить процессоры «Analog Devices»: ADSP-21xx — модифицированная гарвардская архитектура, ADSP-21xxx (SHARC) —
расширенная гарвардская архитектура.

**Гибридные модификации с архитектурой фон Неймана**
Существуют гибридные архитектуры, сочетающие достоинства как гарвардской, так и фон-неймановской архитектур. Современные
CISC-процессоры обладают раздельной кэш-памятью 1-го уровня для команд и данных, что позволяет им за один рабочий такт
получать одновременно и команду, и данные для её выполнения. То есть процессорное ядро аппаратно гарвардское, но программно
оно фон-неймановское, что упрощает написание программ. Обычно в данных процессорах одна шина используется и для передачи
команд, и для передачи данных, что схемотехнически упрощает систему. Современные варианты таких процессоров могут иногда
содержать встроенные контроллеры сразу нескольких разнотипных шин для работы с различными типами памяти — например, DDR RAM и
Flash. Тем не менее, и в этом случае шины, как правило, используются и для передачи команд, и для передачи данных без
разделения, что делает данные процессоры ещё более близкими к фон-неймановской архитектуре при сохранении достоинств гарвардской
архитектуры.

