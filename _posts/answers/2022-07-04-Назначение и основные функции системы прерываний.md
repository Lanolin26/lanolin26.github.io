---
layout: post
title: "Назначение и основные функции системы прерываний"
categories: sppo-questions pors-questions
---

**Прерывание** - это прекращение выполнения текущей команды или текущей последовательности команд для обработки
некоторого события специальной программой - обработчиком прерывания, с последующим возвратом к выполнению прерванной
программы. Событие может быть вызвано особой ситуацией, сложившейся при выполнении программы, или сигналом от внешнего
устройства. Прерывание используется для быстрой реакции процессора на особые ситуации, возникающие при выполнении
программы и взаимодействии с внешними устройствами. Механизм прерывания обеспечивается соответствующими
аппаратно-программными средствами компьютера.

_Назначение_: Любая особая ситуация, вызывающая прерывание, сопровождается сигналом, называемым запросом прерывания (ЗП)
. Запросы прерываний от внешних устройств поступают в процессор по специальным линиям, а запросы, возникающие в процессе
выполнения программы, поступают непосредственно изнутри микропроцессора.

Аппаратные прерывания используются для организации взаимодействия с внешними устройствами:

- маскируемые, которые могут быть замаскированы программными средствами компьютера;
- немаскируемые, запрос от которых таким образом замаскирован быть не может.

Программные прерывания вызываются следующими ситуациями:

- переполнение, нарушение защиты памяти, отсутствие нужной страницы в оперативной памяти и т.п.;
- специальной команды прерывания INT n, используемой обычно программистом при обращениях к специальным функциям
  операционной системы для ввода-вывода информации.

После появления сигнала запроса прерывания ЭВМ переходит к выполнению программы - обработчика прерывания. Обработчик
выполняет те действия, которые необходимы в связи с возникшей особой ситуацией. Например, такой ситуацией может быть
нажатие клавиши на клавиатуре компьютера. Тогда обработчик должен передать код нажатой клавиши из контроллера клавиатуры
в процессор и, возможно, проанализировать этот код. По окончании работы обработчика управление передается прерванной
программе.

Функции прерываний:

1. определение наиболее приоритетного незамаскированного запроса на прерывание (если одновременно поступило несколько
   запросов);
2. определение типа выбранного запроса;
3. сохранение текущего состояния счетчика команд и регистра флагов;
4. определение адреса обработчика прерывания по типу прерывания и передача управления первой команде этого обработчика;
5. выполнение программы - обработчика прерывания;
6. восстановление сохраненных значений счетчика команд и регистра флагов прерванной программы;
7. продолжение выполнения прерванной программы.
