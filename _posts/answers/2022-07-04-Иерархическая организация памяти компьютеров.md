---
layout: post
title: "Иерархическая организация памяти компьютеров"
categories: sppo-questions pors-questions
---

![Иерархия](/assets/q15-1.jpg)

Иерархия компьютерной памяти — концепция построения взаимосвязи классов разных уровней компьютерной памяти на основе
иерархической структуры. Учитывая неоднородность периодичности обращения к конкретным записям (внутренним регистрам
процессора, кэш-памяти, страницам и файлам) применяются различные технические решения, имеющие отличные характеристики,
как технические так ценовые и массо-габаритные. Долговременное хранение в дорогой сверхоперативной и даже оперативной
памяти, как правило, не выгодно, поэтому данные такого рода хранятся на накопителях — дисковых, ленточных, флеш и т. д.
В основном, техническими характеристиками служат временные, то есть каким временным критериям устраивает конкретное
решение. Потребность в скоростной памяти, как правило, лимитируется либо высокими накладными расходами по обеспечению
работы схем, либо высоким энергопотреблением, либо высокой стоимостью решения.
Часто выделяют 4 основных (укрупнённых) уровня иерархии:

- Внутренняя память процессора (регистры, организованные в регистровый файл и кэш процессора).
- ОЗУ системы (RAM) и вспомогательных карт памяти.
- Накопители с «горячим» доступом (On-line mass storage) — или вторичная компьютерная память. Жесткие диски и
  твердотельные накопители, не требующие длительных (секунды и больше) действий для начала получения данных.
- Накопители, требующие переключения носителей (Off-line bulk storage) — или третичная память. Сюда относятся магнитные
  ленты, ленточные и дисковые библиотеки, требующие длительной перемотки либо механического (или ручного) переключения
  носителей информации.

В большинстве современных ПК используется следующая иерархия памяти:

- Регистры процессора, организованные в регистровый файл — наиболее быстрый доступ (порядка 1 такта), но размером лишь в
  несколько сотен или, редко, тысяч байт.
- Кэш процессора 1го уровня (L1) — время доступа порядка нескольких тактов, размером в десятки килобайт
- Кэш процессора 2го уровня (L2) — большее время доступа (от 2 до 10 раз медленнее L1), около полумегабайта или более
- Кэш процессора 3го уровня (L3) — время доступа около сотни тактов, размером от нескольких мегабайт до сотен
- Кэш процессора 4го уровня (L4) — время доступа несколько сотен тактов, размером одну-несколько сотен мегабайт.
  Применялся в процессорах Intel 5го поколения
- ОЗУ системы — время доступа от сотен до, возможно, тысячи тактов, но огромные размеры, от нескольких гигабайт до
  нескольких терабайт. Время доступа к ОЗУ может варьироваться для разных его частей в случае комплексов класса NUMA (с
  неоднородным доступом в память)
- Дисковое хранилище — многие миллионы тактов, если данные не были закэшированны или забуферизованны заранее, размеры до
  нескольких терабайт
- Третичная память — задержки до нескольких секунд или минут, но практически неограниченные объёмы (ленточные
  библиотеки).